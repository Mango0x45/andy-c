%compare-lengths
%define lookup-function-name in_builtin_word_set
%enum
%includes
%language=ANSI-C
%readonly-tables
%struct-type

%{
#include "builtin.h"
%}

struct lookup { char *name; builtin *fn; };
%%
cd,    builtin_cd
echo,  builtin_echo
false, builtin_false
get,   builtin_get
set,   builtin_set
true,  builtin_true
umask, builtin_umask
%%
builtin *
lookup_builtin(const char *s)
{
	const struct lookup *l = in_builtin_word_set(s, strlen(s));
	return l == nullptr ? nullptr : l->fn;
}
